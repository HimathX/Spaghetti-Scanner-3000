version: "3.8"

services:
  spaghetti-scanner:
    build: .
    ports:
      - "8501:8501" # Streamlit UI
      - "8001:8001" # Repo Agent
      - "8002:8002" # Security Agent
      - "8003:8003" # Reviewer Agent
    # Set secrets in your hosting platform (DigitalOcean App secrets, Droplet env, etc.).
    # Uncomment below if you want to use a local .env file for testing.
    # environment:
    #   - GOOGLE_API_KEY=${GOOGLE_API_KEY}
    #   - GITHUB_TOKEN=${GITHUB_TOKEN}
    #   - GITHUB_REPO_URL=${GITHUB_REPO_URL}
    restart: unless-stopped
